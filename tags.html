---
layout: default
title: Теги
permalink: /tags/
---

<h1>Все теги</h1>

<div class="tags-cloud">
  {% assign tags = site.tags | sort %}
  {% for tag in tags %}
    {% assign tag_name = tag[0] %}
    {% assign tag_posts = tag[1] %}
    {% assign tag_size = tag_posts | size %}
    
    {% comment %} Вычисляем размер шрифта в зависимости от количества постов {% endcomment %}
    {% if tag_size > 10 %}
      {% assign font_size = 2.0 %}
    {% elsif tag_size > 5 %}
      {% assign font_size = 1.6 %}
    {% elsif tag_size > 2 %}
      {% assign font_size = 1.3 %}
    {% else %}
      {% assign font_size = 1.0 %}
    {% endif %}
    
    <a href="/tag/{{ tag_name | slugify }}/" 
       class="tag-cloud" 
       style="font-size: {{ font_size }}em;"
       data-count="{{ tag_size }}">
      {{ tag_name }} <span class="tag-count">({{ tag_size }})</span>
    </a>
  {% endfor %}
</div>

<div class="tags-list">
  {% for tag in tags %}
    {% assign tag_name = tag[0] %}
    {% assign tag_posts = tag[1] %}
    
    <div class="tag-section">
      <h2>
        <a href="/tag/{{ tag_name | slugify }}/" class="tag-header">
          <i class="fas fa-tag"></i> {{ tag_name }}
        </a>
        <span class="tag-count-badge">{{ tag_posts | size }} статей</span>
      </h2>
      
      <div class="tag-posts-preview">
        {% for post in tag_posts limit:3 %}
          <article class="tag-post-preview">
            <h3><a href="{{ post.url }}">{{ post.title }}</a></h3>
            <div class="post-meta">
              <time datetime="{{ post.date | date_to_xmlschema }}">
                {{ post.date | date: "%d.%m.%Y" }}
              </time>
            </div>
            <p>{{ post.excerpt | strip_html | truncatewords: 15 }}</p>
          </article>
        {% endfor %}
        
        {% if tag_posts.size > 3 %}
          <div class="view-all">
            <a href="/tag/{{ tag_name | slugify }}/" class="btn-small">
              Все статьи с этим тегом ({{ tag_posts.size }})
            </a>
          </div>
        {% endif %}
      </div>
    </div>
  {% endfor %}
</div>
